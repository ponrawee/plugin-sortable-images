# jsPsychSortImages Plugin

This is a plugin for building an image categorisation trial for jsPsych. It uses [SortableJS](https://sortablejs.github.io/Sortable/). 

If you encounter any problem, please create a GitHub issue.

## Usage

Load the plugin's stylesheet (`styles/jspsych-sortable-images.css`) and script (`dist/index.browser.js`, or the minified version `dist/index.browser.min.js`) after loading jsPsych script and stylesheet. This will make the `jsPsychSortableImages` trial type available for jsPsych. 

## Parameters

\* One (and only one) of `category_count` and `categories` must be specified.

| **Parameter**           | **Type**           | **Required?** | **Description**                                                                                                                                                                                                                                                                                                                                                                           |
|-------------------------|--------------------|---------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| images                  | _array of strings_ | **Yes**       | An array of paths to the images to be categorized                                                                                                                                                                                                                                                                                                                                         |
| category_count          | _integer_          | No*           | The number of categories to categorize images into. If specified, the category names in the trial data will be automatically generated as numbers, starting from 0.                                                                                                                                                                                                                       |
| categories              | _array of strings_ | No*           | An array of names that are given to categories. If specified, the number of categories will be inferred. Cannot be specified jointly with `category_count`.                                                                                                                                                                                                                               |
| require\_sorting\_all   | _boolean_          | No            | Whether to require participants to categorize all images before the button for continuing is shown and/or enabled. Defaults to **true**.                                                                                                                                                                                                                                                  |
| min\_per\_category      | _integer_          | No            | The minimum number of images in each category required before the button for continuing is shown and/or enabled. Defaults to **1**.                                                                                                                                                                                                                                                       |
| require\_function       | _function_         | No            | A requirement function. If specified, the button for continuing is shown and/or enabled only if this function returns true and other requirements (if any) are fulfilled.                                                                                                                                                                                                                 |
| prompt                  | _HTML string_      | No            | A prompt text that is inserted above the categorization zone.                                                                                                                                                                                                                                                                                                                             |
| randomize_image_list    | _boolean_          | No            | Whether to randomize the order of the initial image list. Defaults to **true**.                                                                                                                                                                                                                                                                                                           |
| button\_html            | _HTML string_      | No            | The html template for the button. If you want to change the button text, you can change it using this parameter. Defaults to `<button class="jspsych-btn">Next</button>`                                                                                                                                                                                                                  |
| hide\_button            | _boolean_          | No            | Whether to hide the button before the requirements (if any) are all fulfilled. Defaults to **true**.                                                                                                                                                                                                                                                                                      |
| disable\_button         | _boolean_          | No            | Whether to disable the button before the requirements (if any) are all fulfilled. Note that if this is set to false but the requirement parameters are specified, the button will be clickable, but will not work until those requirements are fulfilled. Defaults to **true**.                                                                                                           |
| image_max_width         | _integer_          | No            | The maximum width of each image, in pixels. The height will automatically be scaled. Defaults to **100**.                                                                                                                                                                                                                                                                                 |
| image_max_height        | _integer_          | No            | The maximum height of each image, in pixels. The width will automatically be scaled. Defaults to **100**.                                                                                                                                                                                                                                                                                 |
| list_images_per_row     | _integer_          | No            | The number of images per row in the image list where images are placed in the beginning. By default, this is determined automatically by calculating the number of images that would fit the width of the image list.                                                                                                                                                                     |
| category_images_per_row | _integer_          | No            | The number of images per row in each category box. By default, this is determined automatically by calculating the number of images that would fit the width of each box.                                                                                                                                                                                                                 |
| sortablejs_options      | _object_           | No            | The options to be passed onto the Sortable object. See [SortableJS](https://sortablejs.github.io/Sortable/) for more details. Please also check the plugin code to avoid overriding the crucial parameters such as `group`                                                                                                                                                                |
| use_custom_css          | _boolean_          | No            | If true, all styling done via javascript will not be applied. All parameters related to styling (`image_max_width`, `image_max_height`, `list_images_per_row`, `category_images_per_row`) will be ignored. To be used in case highly specific styling is needed. You can use `examples/styles/jspsych-sortable-images-custom.css` as a starting point for styling. Defaults to **false**. |

## Examples

A minimal working example can be accessed at `examples/minimal.html`.  Other examples are in the `examples` directory.

## License

MIT